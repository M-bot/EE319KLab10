#include <stdint.h>
#include "Rock.h"

#include "Object.h"
#include "Graphics2D.h"
#include "5Pos_Switch.h"

#define ROCK_WIDTH 10
#define ROCK_HEIGHT 10

const unsigned short rock[] = {
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0x2147, 0x2127, 0x2146, 0x1905, 0x1905,
 0x1905, 0x10C4, 0x18E4, 0xFFFF, 0xFFFF, 0x31A9, 0x5B0E, 0x4A6C, 0x39E8, 0x39E9, 0x39E9, 0x3A09, 0x2146, 0xFFFF, 0xFFFF, 0x39CA,
 0x52AC, 0x52CD, 0x422A, 0x31C8, 0x39E9, 0x39E9, 0x2987, 0xFFFF, 0xFFFF, 0x2988, 0x52AD, 0x52CD, 0x528C, 0x4A6B, 0x39E9, 0x39E9,
 0x31A8, 0xFFFF, 0xFFFF, 0x2127, 0x52AD, 0x528C, 0x4A6B, 0x5AEE, 0x4A6B, 0x39E8, 0x18E5, 0xFFFF, 0xFFFF, 0xFFFF, 0x2127, 0x528C,
 0x4A6B, 0x4A8C, 0x4A6B, 0x3A09, 0x0863, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0x1906, 0x4A8D, 0x52AD, 0x424A, 0x2146, 0x4209, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0x31C8, 0x31A9, 0x39CA, 0x0002, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,

};

void RockCreate(Object *this, uint8_t x, uint8_t y) {
	Switch_Init();
	(*this).image = rock;
	(*this).width = ROCK_WIDTH;
	(*this).height = ROCK_HEIGHT;
	(*this).x = x*100;
	(*this).y = y*100;
	(*this).hasCollided = 0;
	(*this).isPassable = 0;
	(*this).isRendered = 1;
	(*this).logic = RockLogic;
}

void RockLogic(Object *this, Object *player, uint64_t delta) {
	ObjectLogic(this,player,delta);
}
